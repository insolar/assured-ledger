dumptransport: false
goroutines_dump: false
http_timeout: 20
steps:
- name: setup contracts
  execution_mode: sequence
  handles:
  - name: create_contract_test
    rps: 10
    attack_time_sec: 100
    ramp_up_sec: 1
    ramp_up_strategy: linear
    max_attackers: 20
    verbose: true
    do_timeout_sec: 60
    store_data: true
    csv_write: users.csv
    recycle_data: true
    stop_if:
      - type: error
        threshold: 0
        interval: 1
- name: load
  execution_mode: sequence_validate
  handles:
  - name: get_contract_test
    rps: 1000
    attack_time_sec: 1800
    ramp_up_sec: 1800
    ramp_up_strategy: linear
    max_attackers: 1000
    verbose: true
    do_timeout_sec: 60
    recycle_data: true
    csv_read: users.csv
    validation:
      attack_time_sec: 60
      threshold: 0.7
    stop_if:
      - type: error
        threshold: 0
        interval: 1
  - name: set_contract_test
    rps: 1000
    attack_time_sec: 1800
    ramp_up_sec: 1800
    ramp_up_strategy: linear
    max_attackers: 1000
    verbose: true
    do_timeout_sec: 60
    recycle_data: true
    csv_read: users.csv
    validation:
      attack_time_sec: 60
      threshold: 0.7
    stop_if:
      - type: error
        threshold: 0
        interval: 1
