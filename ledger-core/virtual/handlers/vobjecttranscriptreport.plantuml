@startuml
state "Init" as T01_S001
T01_S001 : SMVObjectTranscriptReport
[*] --> T01_S001
T01_S001 --> T01_S002
state "s.messageSender" as T01_S032 <<sdlreceive>>
state "s.runner" as T01_S012 <<sdlreceive>>
T01_S012 : DUPLICATE
state "stepAdvanceToNextRequest" as T01_S030
T01_S030 : SMVObjectTranscriptReport
T01_S030 --> T01_S031 : [s.counter==len()]
T01_S030 --> T01_S002
state "stepConstructorRecord" as T01_S008
T01_S008 : SMVObjectTranscriptReport
T01_S008 --> T01_S009 : CallSubroutine
state "stepConstructorRecord.2" as T01_S010
T01_S010 : SMVObjectTranscriptReport
T01_S010 --> [*] : [ctx.GetError()!=nil]\nError
T01_S010 --> T01_S011
state "stepConstructorRecord.subroutineSM.1" as T01_S009 <<sdlreceive>>
T01_S009 --> T01_S010
state "stepExecuteContinue" as T01_S023
T01_S023 : SMVObjectTranscriptReport
state T01_U001 <<fork>>
T01_S023 --> T01_U001
T01_U001 --> T01_S012 : PrepareExecutionContinue(ctx)
T01_U001 --[dashed]> T01_S013
state "stepExecuteDecideNextStep" as T01_S014
T01_S014 : SMVObjectTranscriptReport
T01_S014 --> T01_S015 : [execution.OutgoingCall]
T01_S014 --> T01_S024
state "stepExecuteStart" as T01_S011
T01_S011 : SMVObjectTranscriptReport
state T01_U002 <<fork>>
T01_S011 --> T01_U002
T01_U002 --> T01_S012 : PrepareExecutionStart(ctx)
T01_U002 --[dashed]> T01_S013
state "stepGetMemory" as T01_S003
T01_S003 : SMVObjectTranscriptReport
T01_S003 --> T01_S004 : CallSubroutine
state "stepGetMemory.2" as T01_S005
T01_S005 : SMVObjectTranscriptReport
T01_S005 --> T01_S006
state "stepGetMemory.subSM.1" as T01_S004 <<sdlreceive>>
T01_S004 --> T01_S005
state "stepInboundRecord" as T01_S007
T01_S007 : SMVObjectTranscriptReport
T01_S007 --> T01_S008 : [(...).CallType==rms.CallTypeConstructor]
T01_S007 --> T01_S011
state "stepInboundResponseRecord" as T01_S024
T01_S024 : SMVObjectTranscriptReport
T01_S024 --> T01_S025 : CallSubroutine
state "stepInboundResponseRecord.2" as T01_S026
T01_S026 : SMVObjectTranscriptReport
T01_S026 --> T01_S027
state "stepInboundResponseRecord.subroutineSM.1" as T01_S025 <<sdlreceive>>
T01_S025 --> T01_S026
state "stepOutboundRecord" as T01_S015
T01_S015 : SMVObjectTranscriptReport
T01_S015 --> T01_S016 : CallSubroutine
state "stepOutboundRecord.2" as T01_S017
T01_S017 : SMVObjectTranscriptReport
T01_S017 --> T01_S027
state "stepOutboundRecord.subroutineSM.1" as T01_S016 <<sdlreceive>>
T01_S016 --> T01_S017
state "stepPrepareExecutionContext" as T01_S006
T01_S006 : SMVObjectTranscriptReport
T01_S006 --> T01_S007
state "stepProcess" as T01_S002
T01_S002 : SMVObjectTranscriptReport
T01_S002 --> T01_S029 : [entry==nil]
T01_S002 --> T01_S006 : [s.objState.IsEmpty()]
T01_S002 --> T01_S003 : [(...).Transcript_TranscriptEntryIncomingRequest]
T01_S002 --> [*]
state "stepSendValidationReport" as T01_S031
T01_S031 : SMVObjectTranscriptReport
T01_S031 --> T01_S032 : PrepareAsync(ctx).WithoutAutoWakeUp()
T01_S031 --> [*]
state "stepValidateIncomingRequest" as T01_S027
T01_S027 : SMVObjectTranscriptReport
T01_S027 --> T01_S029 : [!equalStartRecord]
T01_S027 --> T01_S018 : [s.outgoingRequest!=nil]
T01_S027 --> T01_S028
state "stepValidateIncomingResult" as T01_S028
T01_S028 : SMVObjectTranscriptReport
T01_S028 --> T01_S029 : [entry==nil]
T01_S028 --> T01_S029 : [!ok]
T01_S028 --> T01_S029 : [!equal]
T01_S028 --> T01_S029 : [!equalState]
T01_S028 --> T01_S030
state "stepValidateOutgoingRequest" as T01_S018
T01_S018 : SMVObjectTranscriptReport
T01_S018 --> T01_S029 : [entry==nil]
T01_S018 --> T01_S029 : [!ok]
T01_S018 --> T01_S029 : [!equal]
T01_S018 --> T01_S019
state "stepValidateOutgoingResult" as T01_S019
T01_S019 : SMVObjectTranscriptReport
T01_S019 --> T01_S029 : [entry==nil]
T01_S019 --> T01_S029 : [!ok]
T01_S019 --> T01_S020 : CallSubroutine
state "stepValidateOutgoingResult.2" as T01_S021
T01_S021 : SMVObjectTranscriptReport
T01_S021 --> T01_S022
state "stepValidateOutgoingResult.2.1" as T01_S022
T01_S022 : SMVObjectTranscriptReport
T01_S022 --> T01_S029 : [!equal]
T01_S022 --> T01_S023
state "stepValidateOutgoingResult.subroutineSM.1" as T01_S020 <<sdlreceive>>
T01_S020 --> T01_S021
state "stepValidationFailed" as T01_S029
T01_S029 : SMVObjectTranscriptReport
state "stepWaitExecutionResult" as T01_S013
T01_S013 : SMVObjectTranscriptReport
T01_S013 --[dashed]> T01_S013 : [s.executionNewState==nil]\nSleep
T01_S013 --> T01_S014
state "GetInitStateFor" as T00_S001
T00_S001 : dSMVObjectTranscriptReport
[*] --> T00_S001
state "s.Init" as T00_U003
T00_U003 : dSMVObjectTranscriptReport
T00_U003 : UNKNOWN 
T00_S001 --> T00_U003
@enduml
